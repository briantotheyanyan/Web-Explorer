<!DOCTYPE html>
<style>
  canvas {border-style:solid;}
</style>
<h1>Canvas test</h1>
<canvas id="c" height=500 width=700>
</canvas>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.0/jquery.min.js?ver=1.4.0"></script>

<script>
var c = document.getElementById("c");
var ctx = c.getContext("2d");


var disc = function(x,y,h,w,dx,dy,ax,ay,c1,c2,ctx){
  this.x=x;
  this.y=y;
  this.h=h;
  this.w=w;
  this.dx=dx;
  this.dy=dy;
  this.ax=ax
  this.ay=ay;
  this.c1=c1;
  this.c2=c2;
  this.ctx=ctx;
}

disc.prototype.draw = function() {
  this.ctx.fillStyle=this.c1;
  this.ctx.fillRect(this.x,this.y,this.w,this.h/2);
  this.ctx.fillStyle=this.c2;
  this.ctx.fillRect(this.x,this.y+this.h/2,this.w,this.h/2);
}

disc.prototype.erase = function() {
  this.ctx.clearRect(this.x,this.y,this.w,this.h);
}

d1 = new disc(50,100,20,40,0,0,0,0,"#ff0000","#0000ff",ctx);


$(document).keydown(
	function(e) {
		if (e.which == 97){
			d1.ax=50;}
		if (e.which == 100){
			d1.ax=-50;}
	}
);
          
$(document).keyup(
	function(e) {
		if (e.which == 97 || e.which == 100){
			d1.ax=0;
			d1.dx=0;
         }
    }
);


function animate() {
	d1.dx = d1.dx + d1.ax;
	d1.x = d1.x + d1.dx;
	if ( d1.x>=500 || d1.x < 50)  { 
		d1.dx = d1.dx * -1;
	}
	d1.erase();
	d1.draw();
	console.log("aaaaa");
}

$(document).ready(
	function(){
		d1.draw();
	}
);

setInterval(animate,20);
</script>
